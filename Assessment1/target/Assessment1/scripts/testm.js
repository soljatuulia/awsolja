function verify_ex1(n,a){if(a.length!=window.testingItems[n].tests.length)failed(n,"Mystinen virhe, vastaustaulukko väärän mittainen");else{let e=!0,i=[];for(let t=0;t<a.length;t++){var s=window.testingItems[n].tests[t],u=a[t];s.expect!=u&&(e=!1,i.push("Vastaus väärin muotoiltu: "+u))}i="<ul>"+(i=i.map(t=>`<li>${t}</li>`).join(""))+"</ul>",e?ok(n,"Tehtävä suoritettu onnistuneesti"):failed(n,i)}}function verify_ex2(n,a){if(a.length!=window.testingItems[n].tests.length)failed(n,"Mystinen virhe, vastaustaulukko väärän mittainen");else{let e=!0,i=[];for(let t=0;t<a.length;t++){var s=window.testingItems[n].tests[t],u=a[t];s.expect!=u&&(e=!1,i.push("Väärä vastaus: "+u))}i="<ul>"+(i=i.map(t=>`<li>${t}</li>`).join(""))+"</ul>",e?ok(n,"Tehtävä suoritettu onnistuneesti"):failed(n,i)}}function verify_ex3(t,e){let n=[];if(e.length!=window.testingItems[t].tests.length)failed(t,"Mystinen virhe, vastaustaulukko väärän mittainen");else{try{var a=JSON.parse(e[0]);if(Array.isArray(a))for(i in a){var s=a[i];if(!(s.painting&&s.artist&&s.id)){n.push("Taulukossa on epäkelpoa dataa");break}}else n.push("Et palauttanut taulukkoa")}catch(t){n.push("Et palauttanut json-objektia")}n.length?(n="<ul>"+(n=n.map(t=>`<li>${t}</li>`).join(""))+"</ul>",failed(t,n)):ok(t,"Tehtävä suoritettu onnistuneesti")}}function verify_ex4(t,i){let n=[];if(i.length!=window.testingItems[t].tests.length)failed(t,"Mystinen virhe, vastaustaulukko väärän mittainen");else{try{var a=JSON.parse(i[0]),e=JSON.parse(i[2]);if(Array.isArray(a)){let e=JSON.parse(i[1]);var s=a.find(t=>t.id==e.id);e.painting!=s.painting&&n.push("Väärä objekti"),e.artist!=s.artist&&n.push("Väärä objekti")}e&&"Not found"==e.message||n.push("Väärän kaltainen virheobjekti")}catch(t){n.push("Et palauttanut json-objektia")}n.length?(n="<ul>"+(n=n.map(t=>`<li>${t}</li>`).join(""))+"</ul>",failed(t,n)):ok(t,"Tehtävä suoritettu onnistuneesti")}}function verify_ex5(t,e){let i=[];if(e.length!=window.testingItems[t].tests.length)failed(t,"Mystinen virhe, vastaustaulukko väärän mittainen");else{try{var n=JSON.parse(e[0]),a=JSON.parse(e[1]);n&&n.id&&n.artist&&"Test"==n.artist||i.push("Palautetun objektin sisällössä virheitä"),a&&"Wrong info"==a.message||i.push("Väärän kaltainen virheobjekti")}catch(t){i.push("Et palauttanut json-objektia")}i.length?(i="<ul>"+(i=i.map(t=>`<li>${t}</li>`).join(""))+"</ul>",failed(t,i)):ok(t,"Tehtävä suoritettu onnistuneesti")}}function verify_ex6(t,e){let i=[];if(e.length!=window.testingItems[t].tests.length)failed(t,"Mystinen virhe, vastaustaulukko väärän mittainen");else{try{var n=JSON.parse(e[0]),a=JSON.parse(e[1]),s=JSON.parse(e[2]),u=JSON.parse(e[3]);n&&a&&n.id&&n.artist&&n.painting&&n.id==a.id&&n.artist==a.artist&&n.painting==a.painting||i.push("Tallettaminen ei ole onnistunut"),s&&"Not found"==s.message||i.push("Väärän kaltainen virheobjekti"),u&&"Wrong info"==u.message||i.push("Väärän kaltainen virheobjekti")}catch(t){i.push("Et palauttanut json-objektia")}i.length?(i="<ul>"+(i=i.map(t=>`<li>${t}</li>`).join(""))+"</ul>",failed(t,i)):(HTTP.put("/api/paintings/1",JSON.stringify({id:1,artist:"Leonardo Da Vinci",painting:"Mona Lisa"})),ok(t,"Tehtävä suoritettu onnistuneesti"))}}function verify_ex7(t,e){let i=[];if(e.length!=window.testingItems[t].tests.length)failed(t,"Mystinen virhe, vastaustaulukko väärän mittainen");else{try{var n=JSON.parse(e[0]);n&&"Not found"==n.message||i.push("Objektin sisältö väärä")}catch(t){i.push("Et palauttanut json-objektia")}i.length?(i="<ul>"+(i=i.map(t=>`<li>${t}</li>`).join(""))+"</ul>",failed(t,i)):ok(t,"Tehtävä suoritettu onnistuneesti")}}function verify_ex8(t,i){let n=[];if(i.length!=window.testingItems[t].tests.length)failed(t,"Mystinen virhe, vastaustaulukko väärän mittainen");else{try{var a=JSON.parse(i[0]),s=JSON.parse(i[1]),u=JSON.parse(i[2]);if(console.log(a,s),a.length!=s.length)n.push("Filtteröikö sorttauskin");else{a.sort((t,e)=>t.artist.localeCompare(e.artist));for(let t=0;t<a.length;t++){var l=a[t],r=s[t];if(l.id!=r.id){n.push("Oletussorttaus ja artistin mukainen sorttaus eivät täsmää");break}}}let e=a.filter(t=>(t.artist+t.painting).includes("on"));if(e.length!=u.length)n.push("Filtteröinti ei tuottanut odotettua tulosta");else{e=e.sort((t,e)=>t.painting.localeCompare(e.painting));for(let t=0;t<u.length;t++){var o=u[t],p=e[t];if(o.id!=p.id){n.push("Maalauksen nimen mukainen sorttaus ei toiminut");break}}}}catch(t){n.push("Et palauttanut json-objektia")}n.length?(n="<ul>"+(n=n.map(t=>`<li>${t}</li>`).join(""))+"</ul>",failed(t,n)):ok(t,"Tehtävä suoritettu onnistuneesti")}}function verify_ex9(t,e){let i=[];if(e.length!=window.testingItems[t].tests.length)failed(t,"Mystinen virhe, vastaustaulukko väärän mittainen");else{try{var n=JSON.parse(e[0]);n.length||i.push("Ei tullut data-taulukkoa");for(let t=0;t<n.length;t++)if(!n[t].productName){i.push("Taulukon alkio ei ole oikein muotoiltu");break}}catch(t){i.push("Et palauttanut json-objektia")}i.length?(i="<ul>"+(i=i.map(t=>`<li>${t}</li>`).join(""))+"</ul>",failed(t,i)):ok(t,"Tehtävä suoritettu onnistuneesti")}}function verify_ex10(t,e){let i=[];var n,a;e.length!=window.testingItems[t].tests.length?failed(t,"Mystinen virhe, vastaustaulukko väärän mittainen"):(n=e[0].indexOf("<table>"),a=e[0].indexOf("</table>"),n<0||a<0?i.push("Taulukkoa ei löytynyt"):(e=e[0].substring(n,a+8),$("#insertTableHere").html(e),n=$("#insertTableHere thead tr th").length,a=$("#insertTableHere tbody tr").length,e=$("#insertTableHere tbody tr:first-child td").length,3!=n&&i.push("Väärä määrä sarakeotsikkoja"),3!=e&&i.push("Väärä määrä sarakkeita datassa"),4!=a&&i.push("Väärä määrä rivejä")),i.length?(i="<ul>"+(i=i.map(t=>`<li>${t}</li>`).join(""))+"</ul>",failed(t,i)):ok(t,"Tehtävä suoritettu onnistuneesti"))}window.testingItems={ex1:{answer:"oSmF2YQ==",questionNumber:1,tests:[{url:"/api/dates/2022-05-01?plusdays=4",expect:"2022-05-05"}]},ex2:{answer:"fa2llbGVsbOQ=",questionNumber:2,tests:[{url:"/api/dates/meeting?hours=3&locale=us",data:"2020-11-02T18:45:21",contentType:"text/plain",method:"post",expect:"2020-11-03T04:45:21"},{url:"/api/dates/meeting?hours=3&locale=jp",data:"2020-11-02T18:45:21",contentType:"text/plain",method:"post",expect:"2020-11-02T14:45:21"},{url:"/api/dates/meeting?hours=3&locale=fi",data:"2020-11-02T18:45:21",contentType:"text/plain",method:"post",expect:"2020-11-02T21:45:21"}]},ex3:{answer:"eb24=",questionNumber:3,tests:[{url:"/api/paintings"}]},ex4:{answer:"kdG9kZWxsYQ==",questionNumber:4,tests:[{url:"/api/paintings"},{url:"/api/paintings/1"},{url:"/api/paintings/800",acceptError:404}]},ex5:{answer:"lc3V1bm5hdHRvbWFu",questionNumber:5,tests:[{url:"/api/paintings",method:"post",data:'{"artist":"Test","painting":"Painting"}'},{url:"/api/paintings",method:"post",acceptError:400,data:'{"painting":"Test"}'}]},ex6:{answer:"ea2l2YWE=",questionNumber:6,tests:[{url:"/api/paintings/1",method:"put",data:'{"id":1,"artist":"Test","painting":"Painting"}'},{url:"/api/paintings/1"},{url:"/api/paintings/800",method:"put",acceptError:404,data:'{"id":800,"artist":"Test","painting":"Painting"}'},{url:"/api/paintings/1",method:"put",acceptError:400,data:'{"id":1,"artist":"","painting":"Painting"}'}]},ex7:{answer:"na29vZGF0YQ==",questionNumber:7,tests:[{url:"/api/paintings/800",method:"delete",acceptError:404}]},ex8:{answer:"daGFua2FsYWx0YWtpbg==",questionNumber:8,tests:[{url:"/api/paintings"},{url:"/api/paintings?sort=artist"},{url:"/api/paintings?sort=painting&filter=on"}]},ex9:{answer:"jdHVudHV2aWE=",questionNumber:9,tests:[{url:"/api/products"}]},ex10:{answer:"xanV0dHVqYQ==",questionNumber:10,tests:[{url:"/reporting"}]}};
